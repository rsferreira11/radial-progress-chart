(function(e){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=e()}else if(typeof define==="function"&&define.amd){define([],e)}else{var t;if(typeof window!=="undefined"){t=window}else if(typeof global!=="undefined"){t=global}else if(typeof self!=="undefined"){t=self}else{t=this}t.RadialProgressChart=e()}})(function(){var e,t,r;return function n(e,t,r){function o(a,s){if(!t[a]){if(!e[a]){var d=typeof require=="function"&&require;if(!s&&d)return d(a,!0);if(i)return i(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var f=t[a]={exports:{}};e[a][0].call(f.exports,function(t){var r=e[a][1][t];return o(r?r:t)},f,f.exports,n,e,t,r)}return t[a].exports}var i=typeof require=="function"&&require;for(var a=0;a<r.length;a++)o(r[a]);return o}({1:[function(e,t,r){"use strict";var n;function o(t,r){n=typeof window!=="undefined"&&window.d3?window.d3:typeof e!=="undefined"?e("d3"):undefined;if(!n)throw new Error("d3 object is missing. D3.js library has to be loaded before.");var i=this;i.options=o.normalizeOptions(r);var a=i.options.series,s=15+(i.options.diameter/2+i.options.stroke.width*i.options.series.length+(i.options.stroke.gap*i.options.series.length-1))*2,d=s,l="0 0 "+d+" "+s,f=2*Math.PI,c=[],u=[];function p(e){var t=c[e.index];if(t)return t;t=e.index===0?i.options.diameter/2:u[e.index-1]+i.options.stroke.gap;c[e.index]=t;return t}function g(e){var t=u[e.index];if(t)return t;t=c[e.index]+i.options.stroke.width;u[e.index]=t;return t}i.progress=n.svg.arc().startAngle(0).endAngle(function(e){return e.percentage/100*f}).innerRadius(p).outerRadius(g).cornerRadius(function(e){var t=e.percentage>=90?(100-e.percentage)*.1:1;return i.options.stroke.width/2*t});var h=i.background=n.svg.arc().startAngle(0).endAngle(function(e){return e.backgroundPercentage/100*(Math.PI*2)}).innerRadius(p).outerRadius(g).cornerRadius(function(e){var t=e.backgroundPercentage>=90?(100-e.backgroundPercentage)*.1:1;return i.options.stroke.width/2*t});i.svg=n.select(t).append("svg").attr("preserveAspectRatio","xMinYMin meet").attr("viewBox",l).append("g").attr("transform","translate("+s/2+","+d/2+")");var v=i.svg.append("svg:defs");a.forEach(function(e){if(e.color.linearGradient||e.color.radialGradient){var t=o.Gradient.toSVGElement("gradient"+e.index,e.color);v.node().appendChild(t)}});v=i.svg.append("svg:defs");var x="dropshadow-"+Math.random();var m=v.append("filter").attr("id",x);if(i.options.shadow.width>0){m.append("feGaussianBlur").attr("in","SourceAlpha").attr("stdDeviation",i.options.shadow.width).attr("result","blur");m.append("feOffset").attr("in","blur").attr("dx",1).attr("dy",1).attr("result","offsetBlur")}var y=m.append("feMerge");y.append("feMergeNode").attr("in","offsetBlur");y.append("feMergeNode").attr("in","SourceGraphic");if(i.options.center){i.svg.append("text").attr("class","rbc-center-text").attr("text-anchor","middle").attr("x",i.options.center.x+"px").attr("y",i.options.center.y+"px").selectAll("tspan").data(i.options.center.content).enter().append("tspan").attr("dominant-baseline",function(){if(i.options.center.content.length===1){return"central"}}).attr("class",function(e,t){return"rbc-center-text-line"+t}).attr("x",0).attr("dy",function(e,t){if(t>0){return"1.1em"}}).each(function(e){if(typeof e==="function"){this.callback=e}}).text(function(e){if(typeof e==="string"){return e}return""})}i.field=i.svg.selectAll("g").data(a).enter().append("g");i.field.append("path").attr("class","bg").style("fill",function(e){return e.color.background}).attr("d",h);i.field.append("path").attr("class","progress").attr("filter","url(#"+x+")");i.field.append("text").classed("rbc-label rbc-label-start",true).attr("dominant-baseline","central").attr("x","10").attr("y",function(e){return-(i.options.diameter/2+e.index*(i.options.stroke.gap+i.options.stroke.width)+i.options.stroke.width/2)}).text(function(e){return e.labelStart});i.update()}o.prototype.update=function(e){var t=this;if(e){if(typeof e==="number"){e=[e]}var r;if(Array.isArray(e)){r=e}else if(typeof e==="object"){r=e.series||[]}for(var o=0;o<r.length;o++){this.options.series[o].previousValue=this.options.series[o].value;var i=r[o];if(typeof i==="number"){this.options.series[o].value=i}else if(typeof i==="object"){this.options.series[o].value=i.value}}}t.options.series.forEach(function(e){e.fromPercentage=e.percentage;e.percentage=(e.value-t.options.min)*100/(t.options.max-t.options.min)});var a=t.svg.select("text.rbc-center-text");t.field.select("path.progress").interrupt().transition().duration(t.options.animation.duration).delay(function(e,r){return r*t.options.animation.delay}).ease("elastic").attrTween("d",function(e){var r=n.interpolateNumber(e.fromPercentage,e.percentage);return function(n){e.percentage=Math.max(0,r(n));return t.progress(e)}}).tween("center",function(e){if(t.options.center){var r=t.options.round?n.interpolateRound:n.interpolateNumber;var o=r(e.previousValue||0,e.value);return function(t){a.selectAll("tspan").each(function(){if(this.callback){n.select(this).text(this.callback(o(t),e.index,e))}})}}}).tween("interpolate-color",function(e){if(e.color.interpolate&&e.color.interpolate.length==2){var t=n.interpolateHsl(e.color.interpolate[0],e.color.interpolate[1]);return function(r){var o=t(e.percentage/100);n.select(this).style("fill",o);n.select(this.parentNode).select("path.bg").style("fill",o)}}}).style("fill",function(e){if(e.color.solid){return e.color.solid}if(e.color.linearGradient||e.color.radialGradient){return"url(#gradient"+e.index+")"}})};o.prototype.destroy=function(){this.svg.remove();delete this.svg};o.normalizeOptions=function(e){if(!e||typeof e!=="object"){e={}}var t={diameter:e.diameter||100,stroke:{width:e.stroke&&e.stroke.width||40,gap:!e.stroke||e.stroke.gap===undefined?2:e.stroke.gap},shadow:{width:!e.shadow||e.shadow.width===null?4:e.shadow.width},animation:{duration:e.animation&&e.animation.duration||1750,delay:e.animation&&e.animation.delay||200},min:e.min||0,max:e.max||100,round:e.round!==undefined?!!e.round:true,series:e.series||[],center:o.normalizeCenter(e.center)};var r=new o.ColorsIterator;for(var n=0,i=t.series.length;n<i;n++){var a=e.series[n];if(typeof a==="number"){a={value:a}}t.series[n]={index:n,value:a.value,labelStart:a.labelStart,backgroundPercentage:a.backgroundPercentage,color:o.normalizeColor(a.color,r)}}return t};o.normalizeColor=function(e,t){if(!e){e={solid:t.next()}}else if(typeof e==="string"){e={solid:e}}else if(Array.isArray(e)){e={interpolate:e}}else if(typeof e==="object"){if(!e.solid&&!e.interpolate&&!e.linearGradient&&!e.radialGradient){e.solid=t.next()}}if(e.interpolate){if(e.interpolate.length!==2){throw new Error("interpolate array should contain two colors")}}if(e.linearGradient||e.radialGradient){if(!e.stops||!Array.isArray(e.stops)||e.stops.length!==2){throw new Error("gradient syntax is malformed")}}if(!e.background){if(e.solid){e.background=e.solid}else if(e.interpolate){e.background=e.interpolate[0]}else if(e.linearGradient||e.radialGradient){e.background=e.stops[0]["stop-color"]}}return e};o.normalizeCenter=function(e){if(!e)return null;if(e.constructor!==Object){e={content:e}}e.content=e.content||[];e.x=e.x||0;e.y=e.y||0;if(!Array.isArray(e.content)){e.content=[e.content]}return e};o.Gradient=function(){function e(){}e.toSVGElement=function(e,t){var r=t.linearGradient?"linearGradient":"radialGradient";var o=n.select(document.createElementNS(n.ns.prefix.svg,r)).attr(t[r]).attr("id",e);t.stops.forEach(function(e){o.append("svg:stop").attr(e)});this.background=t.stops[0]["stop-color"];return o.node()};return e}();o.ColorsIterator=function(){e.DEFAULT_COLORS=["#1ad5de","#a0ff03","#e90b3a","#ff9500","#007aff","#ffcc00","#5856d6","#8e8e93"];function e(){this.index=0}e.prototype.next=function(){if(this.index===e.DEFAULT_COLORS.length){this.index=0}return e.DEFAULT_COLORS[this.index++]};return e}();if(typeof t!=="undefined")t.exports=o},{d3:undefined}]},{},[1])(1)});